function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{L2jE:function(t,e,n){"use strict";n.r(e),n.d(e,"HostsModule",(function(){return C}));var i=n("ofXK"),o=n("tyNb"),s=n("fXoL"),c=n("xsI5"),l=n("OaWH"),a=n("HFyB");function r(t,e){if(1&t&&(s.Ub(0,"div",6),s.Qb(1,"img",7),s.Tb()),2&t){var n=s.ic();s.Ab(1),s.oc("src",n.appService.assets("/images/ajax-loader.gif"),s.Bc)}}function d(t,e){1&t&&(s.Ub(0,"div",8),s.Ic(1,"No DATA"),s.Tb())}function f(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Ic(2),s.Tb(),s.Ub(3,"td"),s.Ic(4),s.jc(5,"date"),s.Tb(),s.Ub(6,"td"),s.Ic(7),s.jc(8,"date"),s.Tb(),s.Ub(9,"td"),s.Ic(10),s.Tb(),s.Ub(11,"td"),s.Ic(12),s.Tb(),s.Ub(13,"td"),s.Ic(14),s.Tb(),s.Ub(15,"td"),s.Ic(16),s.Tb(),s.Tb()),2&t){var n=e.$implicit,i=s.ic(2);s.Ab(2),s.Jc(n.hostname),s.Ab(2),s.Jc(s.lc(5,7,i.dateTime(n.last_seen),"MMM, dd yyyy HH:mm")),s.Ab(3),s.Jc(s.lc(8,10,i.dateTime(n.first_seen),"MMM, dd yyyy HH:mm")),s.Ab(3),s.Jc(n.os_version),s.Ab(2),s.Jc(n.system_product_name),s.Ab(2),s.Jc(n.product_type_desc),s.Ab(2),s.Jc(n.status)}}function u(t,e){if(1&t&&(s.Ub(0,"table",9),s.Ub(1,"thead"),s.Ub(2,"tr"),s.Ub(3,"th"),s.Ic(4,"Hostname"),s.Tb(),s.Ub(5,"th"),s.Ic(6,"Last seen"),s.Tb(),s.Ub(7,"th"),s.Ic(8,"First seen"),s.Tb(),s.Ub(9,"th"),s.Ic(10,"OS version"),s.Tb(),s.Ub(11,"th"),s.Ic(12,"Model"),s.Tb(),s.Ub(13,"th"),s.Ic(14,"Type"),s.Tb(),s.Ub(15,"th"),s.Ic(16,"Status"),s.Tb(),s.Tb(),s.Tb(),s.Ub(17,"tbody"),s.Gc(18,f,17,13,"tr",10),s.Tb(),s.Tb()),2&t){var n=s.ic();s.Ab(18),s.oc("ngForOf",n.detectionsFiltered)}}var b,p,h,g=[{path:"",component:(b=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._css=e,this.appService=n,this.detectionsFiltered=[],this.filterCol=[],this.filterChips=[],this.loading=!0,this.nodata=!1,this._css.ready.subscribe((function(){setTimeout((function(){i.updateTable()}),1e3)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.appService.setPath("Home/Dashboard/Hosts"),""!=this._css.access_token&&this.updateTable()}},{key:"getDate",value:function(t){return new Date(t)}},{key:"truncateSentance",value:function(t){return t.substr(0,25)+"..."}},{key:"updateTable",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null;null==e&&this._css.currentHostFilterId>=1&&(n=this._css.buildFilterFor(this._css.currentHostFilterId),e=n.filter,this.filterChips=n.chips),this.loading=!0,this.detectionsFiltered=[],this._css._30DayDetections(0,e).subscribe((function(n){console.clear(),0==n.length&&(t.loading=!1),"error"!=n?t._css._30DayDetectionsSummries(n).subscribe((function(n){"error"!=n&&(t.loading=!1,t.detectionsFiltered=n,null==e&&t.getFieldValues(n),t._css.currentHostFilterId>=1&&(t.getFieldValues(n),t._css.currentHostFilterId=0))})):t.loading=!1}))}},{key:"dateTime",value:function(t){return new Date(t)}},{key:"getFieldValues",value:function(t){var e=this;this.filterCol=[{title:"Platform",fields:[],prop:"platform_name"},{title:"OS Version",fields:[],prop:"os_version"},{title:"OU",fields:[],prop:"status"},{title:"Site",fields:[],prop:"status"},{title:"Type",fields:[],prop:"product_type_desc"},{title:"Status",fields:[],prop:"status"},{title:"Sensor Tags",fields:[],prop:"status"}],t.map((function(t){console.log(t),t.policies.map((function(t){})),e.canPush(e.filterCol[0].fields,"label",t.platform_name),e.canPush(e.filterCol[1].fields,"label",t.os_version),e.canPush(e.filterCol[4].fields,"label",t.product_type_desc),e.canPush(e.filterCol[5].fields,"label",t.status)}))}},{key:"canPush",value:function(t,e,n){0==t.filter((function(t){return t[e].toLowerCase()==n.toLowerCase()&&(t.count=null==t.count?1:t.count+1,!0)})).length&&t.push({label:n,selected:!1,count:1})}}]),t}(),b.\u0275fac=function(t){return new(t||b)(s.Pb(c.a),s.Pb(l.a))},b.\u0275cmp=s.Jb({type:b,selectors:[["app-hosts"]],decls:6,vars:6,consts:[[1,"container-fluid","full-page","p-0"],["addedFor","hosts",1,".filter-sec",3,"totalDetections","filterCol","filterChips","filterSelection"],[1,"container-fluid"],["class","loader",4,"ngIf"],["class","nodata",4,"ngIf"],["class","table",4,"ngIf"],[1,"loader"],[3,"src"],[1,"nodata"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.Ub(0,"section",0),s.Ub(1,"filter-selection",1),s.gc("filterSelection",(function(t){return e.updateTable(t)})),s.Tb(),s.Ub(2,"section",2),s.Gc(3,r,2,1,"div",3),s.Gc(4,d,2,0,"div",4),s.Gc(5,u,19,1,"table",5),s.Tb(),s.Tb()),2&t&&(s.Ab(1),s.oc("totalDetections",e.detectionsFiltered.length)("filterCol",e.filterCol)("filterChips",e.filterChips),s.Ab(2),s.oc("ngIf",e.loading),s.Ab(1),s.oc("ngIf",e.nodata),s.Ab(1),s.oc("ngIf",!e.loading&&!e.nodata))},directives:[a.a,i.l,i.k],pipes:[i.d],styles:[".full-page[_ngcontent-%COMP%]{height:calc(100vh - 48px);overflow:auto;padding-top:1em}.loader[_ngcontent-%COMP%]{text-align:center;padding-top:2em}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1em .5em;font-size:.9em}.table[_ngcontent-%COMP%]   .priority-icon[_ngcontent-%COMP%]{color:#ffab00;float:left}.table[_ngcontent-%COMP%]   .priority-data[_ngcontent-%COMP%]{padding-top:5px;padding-left:15px;font-size:.8em;float:left}.table[_ngcontent-%COMP%]   .col-2-title[_ngcontent-%COMP%]{text-transform:uppercase;color:#696969;font-size:.65em}.table[_ngcontent-%COMP%]   .col-2-data[_ngcontent-%COMP%]{font-size:.8em}"]}),b)}],_=((p=function t(){_classCallCheck(this,t)}).\u0275mod=s.Nb({type:p}),p.\u0275inj=s.Mb({factory:function(t){return new(t||p)},imports:[[o.c.forChild(g)],o.c]}),p),m=n("OZVm"),C=((h=function t(){_classCallCheck(this,t)}).\u0275mod=s.Nb({type:h}),h.\u0275inj=s.Mb({factory:function(t){return new(t||h)},imports:[[i.b,_,m.a]]}),h)}}]);