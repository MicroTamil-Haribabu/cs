function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{HFyB:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("fXoL"),r=n("tyNb"),o=n("jhN1"),c=n("jzhH"),a=n("ofXK");function l(t,e){if(1&t&&(i.Ub(0,"span"),i.Mc(1),i.Tb()),2&t){var n=e.$implicit;i.Ab(1),i.Oc("",n.label,", ")}}function s(t,e){if(1&t){var n=i.Vb();i.Ub(0,"div",17),i.Ub(1,"span"),i.Mc(2),i.Tb(),i.Mc(3," : "),i.Kc(4,l,2,1,"span",16),i.Ub(5,"span",18),i.gc("click",(function(){i.Dc(n);var t=e.index;return i.kc().clearChip(t)})),i.Qb(6,"i",13),i.Tb(),i.Tb()}if(2&t){var r=e.$implicit;i.Ab(2),i.Nc(r.name),i.Ab(2),i.rc("ngForOf",r.values)}}var f=function(t){return{"text-green":t}};function b(t,e){if(1&t){var n=i.Vb();i.Ub(0,"div",22),i.gc("click",(function(){i.Dc(n);var t=e.$implicit;return i.kc(2).doSelection(t)})),i.Ub(1,"div"),i.Ub(2,"div",23),i.Mc(3),i.Tb(),i.Tb(),i.Tb()}if(2&t){var r=e.$implicit;i.rc("ngClass",i.uc(2,f,r.selected)),i.Ab(3),i.Nc(r.label)}}function d(t,e){if(1&t&&(i.Ub(0,"td"),i.Ub(1,"div",19),i.Mc(2),i.Tb(),i.Ub(3,"div",20),i.Kc(4,b,4,4,"div",21),i.Tb(),i.Tb()),2&t){var n=e.$implicit;i.Ab(2),i.Nc(n.title),i.Ab(2),i.rc("ngForOf",n.fields)}}var u=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this._ds=n,this.totalDetections=0,this.filterCol=[],this.addedFor="",this.csvData="",this.filterSelection=new i.n,this.filterItems=[],this.breadCrumb="",this.timeoutHandle=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout((function(){t.breadCrumb="hosts"==t.addedFor?"Dashboard/Hosts":"Dashboard/Detections for last 24 hours"}),100)}},{key:"backToDashBoard",value:function(){this.router.navigate(["/"])}},{key:"doSelection",value:function(t){var e=this;this.filterItems=[],t.selected=!t.selected,this.filterCol.map((function(t){var n=t.fields.filter((function(t){return t.selected}));n.length>=1&&e.filterItems.push({name:t.title,values:n.map((function(t){return{label:t.label,prop:t.prop}})),prop:t.prop})})),this.getFilteredDetections()}},{key:"downloadCSV",value:function(){var t=encodeURI(this.csvData.data);window.open(t)}},{key:"getSafeURL",value:function(t){return this._ds.bypassSecurityTrustUrl(t)}},{key:"getFilteredDetections",value:function(){var t=this,e=[];this.filterItems.map((function(t){var n=t.values.map((function(e,n){return"Time"==t.name||"Severity"==t.name?""+e.prop:"".concat(t.prop,":'").concat(e.prop,"'")}));e.push(n.join(","))}));var n=0==e.length?null:"(".concat(e.join(")+("),")");clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout((function(){t.filterSelection.emit(n)}),300)}},{key:"clearChip",value:function(t){var e=this.filterItems[t].name;this.filterCol.map((function(t){t.title==e&&t.fields.map((function(t){t.selected=!1}))})),this.filterItems.splice(t,1),this.getFilteredDetections()}},{key:"clearAllChips",value:function(){for(;this.filterItems.length>=1;)this.clearChip(this.filterItems.length-1)}},{key:"filterChips",set:function(t){null!=t&&(this.filterItems=t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.c),i.Pb(o.b))},t.\u0275cmp=i.Jb({type:t,selectors:[["filter-selection"]],inputs:{totalDetections:"totalDetections",filterCol:"filterCol",filterChips:"filterChips",addedFor:"addedFor",csvData:"csvData"},outputs:{filterSelection:"filterSelection"},decls:23,vars:5,consts:[[1,"container-fluid","elegant-color","filter-container"],[1,"row"],[1,"col-sm-12"],[1,"col-sm-11",2,"padding-top","1em"],["ontop","false",3,"path","goTo"],[1,"col-sm-1",2,"text-align","right","padding","1em 1.2em 0 0"],["title","Export to CSV",3,"download"],[1,"fas","fa-share-square","text-white"],[1,"search-bar"],[1,"search-icon"],[1,"tag-box"],["class","chip-cont",4,"ngFor","ngForOf"],[1,"clear-btn",3,"click"],["aria-hidden","true",1,"fas","fa-times","text-gray"],[1,"count-text"],[1,"table","text-white","table-borderless","filter-items"],[4,"ngFor","ngForOf"],[1,"chip-cont"],[3,"click"],[1,"title"],[1,"fields-cover"],["class","fields",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fields",3,"ngClass","click"],[1,"text-break",2,"display","inline-block","width","75%"]],template:function(t,e){1&t&&(i.Ub(0,"section",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",1),i.Ub(4,"div",3),i.Ub(5,"bread-crumbs",4),i.gc("goTo",(function(){return e.backToDashBoard()})),i.Tb(),i.Tb(),i.Ub(6,"div",5),i.Ub(7,"a",6),i.Qb(8,"i",7),i.Tb(),i.Tb(),i.Tb(),i.Ub(9,"div",8),i.Qb(10,"div",9),i.Ub(11,"div",10),i.Kc(12,s,7,2,"div",11),i.Tb(),i.Ub(13,"div",12),i.gc("click",(function(){return e.clearAllChips()})),i.Ub(14,"span"),i.Qb(15,"i",13),i.Tb(),i.Tb(),i.Qb(16,"div",14),i.Tb(),i.Tb(),i.Tb(),i.Ub(17,"div",1),i.Ub(18,"div",2),i.Ub(19,"table",15),i.Ub(20,"tbody"),i.Ub(21,"tr"),i.Kc(22,d,5,2,"td",16),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Ab(5),i.rc("path",e.breadCrumb),i.Ab(2),i.rc("download",e.csvData.name),i.Bb("href",e.getSafeURL(e.csvData.data),i.Fc),i.Ab(5),i.rc("ngForOf",e.filterItems),i.Ab(10),i.rc("ngForOf",e.filterCol))},directives:[c.a,a.l,a.k],styles:[".filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:1em 0 0 1em!important}.search-bar[_ngcontent-%COMP%]{margin:1em 0;border:.5px solid grey;padding:.5em;border-radius:3px;color:grey}.search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   .tag-box[_ngcontent-%COMP%]{display:inline-block}.search-bar[_ngcontent-%COMP%]   .tag-box[_ngcontent-%COMP%]{padding-left:.5em;width:70%}.search-bar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{float:right;color:#dbdbdb;border-left:.5px solid grey;padding:0 .5em}.search-bar[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{float:right;font-size:.8em;color:#dbdbdb;padding:.2em .5em 0}.search-bar[_ngcontent-%COMP%]   .chip-cont[_ngcontent-%COMP%]{font-size:.8em;display:inline-block}.search-bar[_ngcontent-%COMP%]   .chip-cont[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#02caca}.search-bar[_ngcontent-%COMP%]   .chip-cont[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#fff}.search-bar[_ngcontent-%COMP%]   .chip-cont[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{padding:0 .5em;color:#dbdbdb}.filter-items[_ngcontent-%COMP%]{font-size:.9em!important;table-layout:fixed}.filter-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2){height:25px}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:1px solid grey;padding:0 .5em}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{font-size:.85em;padding:.2em;color:#c4c4c4;cursor:pointer}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:#00ff95}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]:hover{color:#f0fff0}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:0 0 .25em}.filter-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border:0}.fields-cover[_ngcontent-%COMP%]{max-height:230px;overflow:auto}.fields-cover[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;background-color:#f5f5f5}.fields-cover[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000}.fields-cover[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:rgba(160,140,140,.507)}"]}),t}()},Mn71:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("wd/R"),r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"formatDate",value:function(t,e){return i(t,"YYYY-MM-DDTHH:mm:ss").format(e)}},{key:"allWordUppercase",value:function(e){return e.split("_").map((function(e){return t.firstLetterUpperCase(e)})).join(" ")}},{key:"firstLetterUpperCase",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),t}()},OZVm:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("ofXK"),r=n("IXzT"),o=n("fXoL"),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.b,r.a]]}),t}()}}]);